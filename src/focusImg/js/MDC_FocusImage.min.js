;(
function($){var p={cache:{}};p.M=function(cfg,data){this.$d=cfg.$d;this.flag=cfg.flag;this.id=this.$d[0].id;this.text=cfg.text||true;this.speed=parseInt(cfg.speed)||5000;this.hoverStop=cfg.hoverStop;this.type=cfg.type;this.place=cfg.place||'tabRB';this.myHtml=cfg.myHtml||"";this.ptStepX=cfg.ptStepX||92;this.ptStepY=cfg.ptStepY||81;this.ptStepX_=cfg.ptStepX_||4;this.ptStepY_=cfg.ptStepY_||-1;this.focusData=data;this.clickTabToNav=cfg.clickTabToNav||false;this.autoPlay;this.autoPlay1;this._fiObj;this._$tabC=null;this._$tabs=null;this._$titleC=null;this._$img=null;this._$transparentOvl=null;this._$desc=null;this._$pointer=null;this.$d.data("apple",{a:cfg,b:data});this.init();};p.M.prototype={init:function(){this._fiObj=p.cache[this.flag];if(!this._fiObj)return;this._fiObj.init(this);this.$d.find(".content").append(this.myHtml);this.spring();},spring:function(){var that=this;var gogo=function(i){var _index=i||0;that.alternation(_index);that.autoPlay=setInterval(function(){that.alternation((++_index)==that.focusData.length?_index=0:_index);},that.speed);};gogo();this._$tabs.each(function(i){(function(i,o){o=jQuery(o).click(function(){if(this.className!="now"){clearInterval(that.autoPlay);gogo(i);};if(that.clickTabToNav){window.open(that.focusData[i].l);};return false;});if(that.hoverStop){o.mouseenter(function(){clearInterval(that.autoPlay);clearTimeout(that.autoPlay1);if(this.className!="now"){that.alternation(i);};return false;}).mouseleave(function(){clearInterval(that.autoPlay);clearTimeout(that.autoPlay1);var j=(i+1)==that.focusData.length?0:(i+1);that.autoPlay1=window.setTimeout(function(){gogo(j);},that.speed);});};})(i,this)});if(this._fiObj.initEvts){this._fiObj.initEvts(this,gogo);};},alternation:function(i){var continueCommon=true;if(this._fiObj.alt)continueCommon=this._fiObj.alt(this,i);if(!continueCommon)return;this._$img.attr({"src":this.focusData[i].p,"link":this.focusData[i].l}).css({opacity:0}).stop().animate({opacity:1},500);this._$tabs.filter(".now").removeClass().end().eq(i).addClass("now");this._$titleC.html(this.focusData[i].t);if(this._$desc)this._$desc.html(this.focusData[i].t1);}};$.fn.focusImg=function(cfg,data){return this.each(function(){cfg.$d=$(this);new p.M(cfg,data);});};$.fn.focusImg.Register=function(key,fiObj){p.cache[key]=fiObj;};})(jQuery);$.fn.focusImg.Register("fi01",{init:function(fi){var html='<img class="iplayer"/>';html+='<div class="tab '+fi.place+'"></div>';html+='<h2 class="tt"></h2>';fi.$d.append(html);fi._$tabC=fi.$d.find(".tab");fi._$titleC=fi.$d.find(".tt");fi._$img=fi.$d.find("img");if(fi.text){fi._$titleC.show();}else{fi._$titleC.hide();};html="";for(var i=0;i<fi.focusData.length;i++){html+='<span>'+(i+1)+'</span>';};fi._$tabC.append(html);fi._$tabs=fi._$tabC.find("span");},initEvts:function(fi){fi.$d.click(function(){window.open(fi._$img.attr("link"));});}});$.fn.focusImg.Register("fi02",{init:function(fi){var html='<div id="'+fi.id+'_'+fi.type+'" class="fi02_'+fi.type+'">';html+='<img class="iplayer"/>';html+='<div class="transparence"></div>';html+='<h2 class="tt"></h2>';html+='<div class="focusImageBg"></div>';html+='<div class="link"></div>';html+='<div class="tab"></div>';html+='</div>';fi.$d.append(html);fi._$tabC=fi.$d.find(".tab");fi._$titleC=fi.$d.find(".tt");fi._$img=fi.$d.find("img");fi._$transparentOvl=fi.$d.find(".transparence").css("opacity",0.5);html="";for(var i=0;i<fi.focusData.length;i++){html+="<span>"+(i+1)+"</span>";};fi._$tabC.append(html);fi._$tabs=fi._$tabC.find("span");},initEvts:function(fi){fi.$d.click(function(){window.open(fi._$img.attr("link"));});}});$.fn.focusImg.Register("fi03",{init:function(fi){var html='<div class="fi03_'+fi.type+'"'+'id="'+fi.id+'_'+fi.type+'">';html+='<div class="content">';html+='<img class="iplayer"/><div class="transparence"></div><h2></h2><p></p>';html+='</div>';html+='<div class="tab"></div>';html+='</div>';fi.$d.append(html);fi._$transparentOvl=fi.$d.find(".transparence").css("opacity",0.5);fi._$img=fi.$d.find("img");fi._$titleC=fi.$d.find("h2");fi._$desc=fi.$d.find("p");fi._$tabC=fi.$d.find(".tab");html="";for(var i=0;i<fi.focusData.length;i++){html+="<span>"+(i+1)+"</span>";};fi._$tabC.append(html);fi._$tabs=fi._$tabC.find("span");},initEvts:function(fi){fi.$d.find(".content").click(function(){window.open(fi._$img.attr("link"));});},alt:function(fi,i){if(fi.type==1){fi._$transparentOvl.css({left:-600}).stop().animate({"left":0},200);};return true;}});$.fn.focusImg.Register("fi04",{init:function(fi){var html='<div class="fi04_'+fi.type+'"'+'id="'+fi.id+'_'+fi.type+'">';html+='<div class="content">';html+='<img class="iplayer"/><div class="transparence"></div><h2></h2><p></p>';html+='</div>';html+='<div class="tab"><span class="pointer"></span><dl></dl></div>';html+='</div>';fi.$d.append(html);fi._$transparentOvl=fi.$d.find(".transparence").css("opacity",0.5);fi._$img=fi.$d.find("img");fi._$titleC=fi.$d.find("h2");fi._$desc=fi.$d.find("p");fi._$tabC=fi.$d.find("dl");fi._$pointer=fi.$d.find(".pointer");html="";for(var i=0;i<fi.focusData.length;i++){fi.focusData[i].p1=((!fi.focusData[i].p1)||(fi.focusData[i].p1==""))?fi.focusData[i].p:fi.focusData[i].p1;html+='<dd><img src="'+fi.focusData[i].p1+'"/></dd>';};fi._$tabC.append(html).find("img").css("opacity",0.5);fi._$tabs=fi._$tabC.find("dd");},initEvts:function(fi){fi.$d.find(".content").click(function(){window.open(fi._$img.attr("link"));});fi._$pointer.click(function(){window.open(fi._$img.attr("link"));});},alt:function(fi,i){fi._$tabs.filter(".now").children().animate({"opacity":.5},200);fi._$tabs.eq(i).children().animate({"opacity":1},200);switch(fi.type){case"1":fi._$pointer.stop().animate({"left":i*fi.ptStepX+fi.ptStepX_},200);break;case"2":fi._$pointer.stop().animate({"top":i*fi.ptStepY+fi.ptStepY_},200);break;};return true;}});$.fn.focusImg.Register("fi05",{init:function(fi){var html='<div class="fi05_'+fi.type+'"'+'id="'+fi.id+'_'+fi.type+'">';html+='<div class="content">';html+='<img class="iplayer"/><div class="transparence"></div><h2></h2>';html+='</div>';html+='<div class="tab"><dl></dl></div>';html+='</div>';fi.$d.append(html);fi._$transparentOvl=fi.$d.find(".transparence").css("opacity",0.5);fi._$img=fi.$d.find("img");fi._$titleC=fi.$d.find("h2");fi._$tabC=fi.$d.find("dl");html="";for(var i=0;i<fi.focusData.length;i++){fi.focusData[i].p1=((!fi.focusData[i].p1)||(fi.focusData[i].p1==""))?fi.focusData[i].p:fi.focusData[i].p1;html+='<dd><img src="'+fi.focusData[i].p1+'"/><p>'+fi.focusData[i].t+'</p></dd>';};fi._$tabC.append(html);fi._$tabs=fi._$tabC.find("dd");},initEvts:function(fi){fi._$tabs.mouseenter(function(){jQuery(this).addClass("hover");});fi._$tabs.mouseleave(function(){jQuery(this).removeClass("hover");});fi.$d.find(".content").click(function(){window.open(fi._$img.attr("link"));});},alt:function(fi,i){fi._$transparentOvl.css({bottom:-40}).stop().animate({"bottom":0},200);fi._$titleC.css({bottom:-24}).stop().animate({"bottom":16},200);return true;}});$.fn.focusImg.Register("fi06",{init:function(fi){var html='<div class="fi06_'+fi.type+' clear"'+'id="'+fi.id+'_'+fi.type+'">';html+='<div class="content l">';html+='<a target="_blank"><img class="player"/></a><div class="bg transparence"></div>';html+='<div class="note"><h1 class="tt"></h1><p class="desc"></p></div>';html+='<span class="playButton"></span>';html+='</div>';html+='<div class="tab r">';html+='<span class="up"><a href="#" class="btn"></a></span><span class="down"><a href="#" class="btn"></a></span>';html+='<div class="tab_"><dl></dl></div>';html+='</div>';html+='</div>';fi.$d.html(html);fi._$img=fi.$d.find(".player");fi._$tabC=fi.$d.find(".tab dl");fi._$titleC=fi.$d.find(".tt");fi._$desc=fi.$d.find(".desc");fi._$transparentOvl=fi.$d.find(".transparence");fi._$note=fi.$d.find(".note");fi._$tabOvl=fi.$d.find(".tab_");html="";for(var i=0;i<fi.focusData.length;i++){fi.focusData[i].p1=((!fi.focusData[i].p1)||(fi.focusData[i].p1==""))?fi.focusData[i].p:fi.focusData[i].p1;html+='<dd><img src="'+fi.focusData[i].p1+'"/><h2 class="tt0"><span class="icon"></span>'+fi.focusData[i].t_+'</h2><p class="desc0">'+fi.focusData[i].t1_+'</p></dd>';};fi._$tabC.html(html);fi._$tabs=fi._$tabC.find("dd");},initEvts:function(fi,gogo){var _num=fi._$tabC.height()-fi._$tabOvl.height();fi.$d.find(".btn").click(function(e){return false;});fi.$d.find(".r > .up").mousedown(function(){if(fi._$tabC.position().top<0){if(!fi._$tabC.is(":animated")){clearInterval(fi.autoPlay);clearTimeout(fi.autoPlay1);fi._$tabC.stop().animate({top:"+="+fi.ptStepY},200,function(){fi.autoPlay1=window.setTimeout(function(){var s=fi._$tabs.filter(".now").index();s=(s-1)==-1?0:(s-1);gogo(s);},fi.speed);});};};});fi.$d.find(".r > .down").mousedown(function(){if(fi._$tabC.position().top>-_num){if(!fi._$tabC.is(":animated")){clearInterval(fi.autoPlay);clearTimeout(fi.autoPlay1);fi._$tabC.stop().animate({top:"-="+fi.ptStepY},200,function(){fi.autoPlay1=window.setTimeout(function(){var s=fi._$tabs.filter(".now").index();s=(s+1)==fi._$tabs.length?0:(s+1);gogo(s);},fi.speed);});};};});fi.$d.find(".content").hover(function(){$(this).find(".playButton").addClass("now");},function(){$(this).find(".playButton").removeClass("now");}).click(function(){window.open($(this).find("a:eq(0)").attr("href"));return false;});},alt:function(fi,i){fi._$img.attr("src",fi.focusData[i].p).parent().attr("href",fi.focusData[i].l);fi._$tabs.removeClass("now").eq(i).addClass("now");fi._$titleC.html(fi.focusData[i].t);fi._$desc.html(fi.focusData[i].t1);var _w=fi._$note.width();fi._$transparentOvl.css("width",0).stop().animate({width:_w},200);var _num1=fi._$tabs.filter(".now").prevAll().length*fi.ptStepY;var _num2=fi._$tabC.height()-fi._$tabOvl.height();var _num3=_num1-270;if(!fi._$tabC.is(":animated")){if(fi._$tabC.position().top>-_num3){fi._$tabC.stop().animate({top:-_num3},200);};if(fi._$tabC.position().top<(-_num1)){fi._$tabC.stop().animate({top:-_num1},200);}}if(fi._$tabs[0].className=="now"){if(!fi._$tabC.is(":animated")){fi._$tabC.stop().animate({top:0},200);}};return false;}});